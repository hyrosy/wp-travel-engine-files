/*! For license information please see 196.js.LICENSE.txt */
(self.webpackChunkwp_travel_engine=self.webpackChunkwp_travel_engine||[]).push([[196],{5358:(e,t,n)=>{var r={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=5358},6743:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bookingModalContext:()=>Ze,useBookingModalContext:()=>Ue});var r=n(6540),a=n(5338),o=n(1138),i=n(6619),c=n(1760),l=n(961);const s=function(e){var t=e.isOpen,n=e.setIsOpen,a=e.children,o=(0,r.useRef)(null),i=(0,r.useRef)(null);(0,r.useEffect)((function(){t&&(document.body.style.overflow="hidden",i.current.classList.add("showing"),setTimeout((function(){i.current.classList.remove("showing")}),300))}),[t]);var c=function(){document.body.style.overflow="",i.current.classList.add("hiding"),setTimeout((function(){n(!1)}),300)};return React.createElement(React.Fragment,null,t&&(0,l.createPortal)(React.createElement("div",{ref:i,className:"wpte-modal__screen-overlay",onClick:function(e){o.current.contains(e.target)||c()}},React.createElement("div",{ref:o,className:"wpte-modal"},React.createElement("button",{type:"button",role:"close-button",className:"wpte-modal__close-button",onClick:function(){return c()}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}))),a)),document.body))};var u=n(5001),p=n(2543),f=n.n(p),d=n(5093),m=n.n(d);const v=function(e){var t=e.onClick,n=e.type,r=void 0===n?"button":n,a=e.label,o=e.className,i=void 0===o?"":o,c=e.disabled,l=void 0!==c&&c;return"string"==typeof a?React.createElement("button",{dangerouslySetInnerHTML:{__html:a},type:r,onClick:t,className:i,disabled:l}):React.createElement("button",{type:r,onClick:t,className:i,disabled:l},a)};var h=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"2",viewBox:"0 0 14 2"},React.createElement("path",{"data-name":"Path 23951",d:"M0,0H12",transform:"translate(1 1)",fill:"none",stroke:"#170d44",strokeLinecap:"round",strokeWidth:"2",opacity:"0.5"})),g=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},React.createElement("g",{"data-name":"Group 2263",transform:"translate(-78 -14)",opacity:"0.5"},React.createElement("line",{"data-name":"Line 2",x2:"12",transform:"translate(79 21)",fill:"none",stroke:"#170d44",strokeLinecap:"round",strokeWidth:"2"}),React.createElement("line",{"data-name":"Line 3",x2:"12",transform:"translate(84.999 15) rotate(90)",fill:"none",stroke:"#170d44",strokeLinecap:"round",strokeWidth:"2"}))),y={minus:h,plus:g,calendar:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"14",viewBox:"0 0 13 14"},React.createElement("g",{id:"Group_2371","data-name":"Group 2371",transform:"translate(0)"},React.createElement("rect",{id:"Rectangle_1682","data-name":"Rectangle 1682",width:"13",height:"3",transform:"translate(0)",fill:"#170d44",opacity:"0.6"}),React.createElement("g",{id:"Rectangle_1683","data-name":"Rectangle 1683",transform:"translate(0 3)",fill:"none",strokeWidth:"1",opacity:"0.6"},React.createElement("rect",{width:"13",height:"11",stroke:"none"}),React.createElement("rect",{x:"0.5",y:"0.5",width:"12",height:"10",fill:"none"})))),suitcase:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"14.812",viewBox:"0 0 10 14.812"},React.createElement("g",{id:"Group_2254","data-name":"Group 2254",transform:"translate(-1072.099 -77)"},React.createElement("g",{id:"Group_2416","data-name":"Group 2416",transform:"translate(1072.099 77)"},React.createElement("path",{id:"Path_23953","data-name":"Path 23953",d:"M33.115,6.1h-1.6V4.317a1.055,1.055,0,0,0-1.158-.9h-2.02a1.055,1.055,0,0,0-1.158.9V6.1h-1.6a1.121,1.121,0,0,0-1.232.958v9.236a1.1211.121,0,0,0,1.232.958h.628v.594a.448.448,0,0,0,.492.383h.32a.448.448,0,0,0,.493-.383v-.594h3.67v.594a.448.448,0,0,0,.493.383h.32a.448.448,0,0,0,.493-.383v-.594h.628a1.121,1.121,00,0,1.232-.958V7.057A1.12,1.12,0,0,0,33.115,6.1Zm-5.1-1.782a.292.292,0,0,1,.32-.249h2.02a.292.292,0,0,1,.32.249V6.1h-2.66Z",transform:"translate(-24.346 -3.416)"})))),dots:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"4",viewBox:"0 0 16 4"},React.createElement("g",{id:"Group_2257","data-name":"Group 2257",transform:"translate(-349.914 -82)"},React.createElement("g",{id:"Group_2418","data-name":"Group 2418"},React.createElement("circle",{id:"Ellipse_100","data-name":"Ellipse 100",cx:"2",cy:"2",r:"2",transform:"translate(349.914 82)"}),React.createElement("circle",{id:"Ellipse_101","data-name":"Ellipse 101",cx:"2",cy:"2",r:"2",transform:"translate(355.914 82)"}),React.createElement("circle",{id:"Ellipse_102","data-name":"Ellipse 102",cx:"2",cy:"2",r:"2",transform:"translate(361.914 82)"})))),help:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"8.226",viewBox:"0 0 6 8.226"},React.createElement("path",{id:"Path_23222","data-name":"Path 23222",d:"M361.369,288.944a1.569,1.569,0,0,0-1.026,1.453v.365h-1.014a4.251,4.251,0,0,1,.119-1.217,2.424,2.424,0,0,1,1.026-1.126c.9-.536,1.311-1.088,1.252-1.656-.089-.81-.611-1.238-1.56-1.292a1.956,1.956,0,0,0-2.1,1.656l-1.079-.466.178-.418c.492-1.147,1.554-1.7,3.179-1.656,1.607.08,2.485.783,2.633,2.1q.134,1.254-1.607,2.262Zm-1.014,3.865h-1.026v-1.034h1.026Z",transform:"translate(-356.985 -284.584)",fill:"#170d44"})),"angle-right":React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5.81",height:"10.121",viewBox:"0 0 5.81 10.121"},React.createElement("path",{id:"Path_23963","data-name":"Path 23963",d:"M3290.465,368.331l4,4-4,4",transform:"translate(-3289.404 -367.271)",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",opacity:"0.8"})),"angle-left":React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5.811",height:"10.121",viewBox:"0 0 5.811 10.121"},React.createElement("path",{id:"Path_23952","data-name":"Path 23952",d:"M3294.464,368.331l-4,4,4,4",transform:"translate(-3289.714 -367.271)",fill:"none",stroke:"#147dfe",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})),"angle-down":React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),"angle-up":React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M18 15L12 9L6 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),calendarCheck:React.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14.125 6.66658H2.125M14.125 8.33325V5.86659C14.125 4.74648 14.125 4.18643 13.907 3.7586C13.7153 3.38228 13.4093 3.07632 13.033 2.88457C12.6052 2.66659 12.0451 2.66659 10.925 2.66659H5.325C4.2049 2.66659 3.64484 2.66659 3.21702 2.88457C2.84069 3.07632 2.53473 3.38228 2.34299 3.7586C2.125 4.18643 2.125 4.74648 2.125 5.86658V11.4666C2.125 12.5867 2.125 13.1467 2.34299 13.5746C2.53473 13.9509 2.84069 14.2569 3.21702 14.4486C3.64484 14.6666 4.2049 14.6666 5.325 14.6666H8.125M10.7917 1.33325V3.99992M5.45833 1.33325V3.99992M9.79167 12.6666L11.125 13.9999L14.125 10.9999",stroke:"currentColor",strokeWidth:"1.336",strokeLinecap:"round",strokeLinejoin:"round"})),packageIcon:React.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14.5416 4.85185L8.87498 8M8.87498 8L3.20831 4.85185M8.87498 8L8.875 14.3333M14.875 10.7057V5.29431C14.875 5.06588 14.875 4.95167 14.8413 4.8498C14.8116 4.75969 14.7629 4.67696 14.6986 4.60717C14.6259 4.52828 14.526 4.47281 14.3264 4.36188L9.39302 1.62114C9.20395 1.5161 9.10942 1.46358 9.0093 1.44299C8.9207 1.42477 8.82931 1.42477 8.7407 1.44299C8.64059 1.46358 8.54605 1.5161 8.35698 1.62114L3.42365 4.36188C3.22396 4.47281 3.12412 4.52828 3.05142 4.60717C2.98711 4.67697 2.93843 4.75969 2.90866 4.84981C2.875 4.95167 2.875 5.06588 2.875 5.29431V10.7057C2.875 10.9341 2.875 11.0484 2.90866 11.1502C2.93843 11.2403 2.98711 11.3231 3.05142 11.3929C3.12412 11.4718 3.22397 11.5272 3.42365 11.6382L8.35698 14.3789C8.54605 14.4839 8.64059 14.5365 8.7407 14.557C8.82931 14.5753 8.9207 14.5753 9.0093 14.557C9.10942 14.5365 9.20395 14.4839 9.39302 14.3789L14.3264 11.6382C14.526 11.5272 14.6259 11.4718 14.6986 11.3929C14.7629 11.3231 14.8116 11.2403 14.8413 11.1502C14.875 11.0484 14.875 10.9341 14.875 10.7057Z",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M11.875 6.33333L5.875 3",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})),grid:React.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M5.975 2H3.44167C3.0683 2 2.88161 2 2.73901 2.07266C2.61356 2.13658 2.51158 2.23856 2.44766 2.36401C2.375 2.50661 2.375 2.6933 2.375 3.06667V5.6C2.375 5.97337 2.375 6.16005 2.44766 6.30266C2.51158 6.4281 2.61356 6.53009 2.73901 6.594C2.88161 6.66667 3.0683 6.66667 3.44167 6.66667H5.975C6.34837 6.66667 6.53505 6.66667 6.67766 6.594C6.8031 6.53009 6.90509 6.4281 6.969 6.30266C7.04167 6.16005 7.04167 5.97337 7.04167 5.6V3.06667C7.04167 2.6933 7.04167 2.50661 6.969 2.36401C6.90509 2.23856 6.8031 2.13658 6.67766 2.07266C6.53505 2 6.34837 2 5.975 2Z",stroke:"currentColor",strokeWidth:"1.336",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M13.3083 2H10.775C10.4016 2 10.2149 2 10.0723 2.07266C9.9469 2.13658 9.84491 2.23856 9.781 2.36401C9.70833 2.50661 9.70833 2.6933 9.70833 3.06667V5.6C9.70833 5.97337 9.70833 6.16005 9.781 6.30266C9.84491 6.4281 9.9469 6.53009 10.0723 6.594C10.2149 6.66667 10.4016 6.66667 10.775 6.66667H13.3083C13.6817 6.66667 13.8684 6.66667 14.011 6.594C14.1364 6.53009 14.2384 6.4281 14.3023 6.30266C14.375 6.16005 14.375 5.97337 14.375 5.6V3.06667C14.375 2.6933 14.375 2.50661 14.3023 2.36401C14.2384 2.23856 14.1364 2.13658 14.011 2.07266C13.8684 2 13.6817 2 13.3083 2Z",stroke:"currentColor",strokeWidth:"1.336",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M13.3083 9.33333H10.775C10.4016 9.33333 10.2149 9.33333 10.0723 9.406C9.9469 9.46991 9.84491 9.5719 9.781 9.69734C9.70833 9.83995 9.70833 10.0266 9.70833 10.4V12.9333C9.70833 13.3067 9.70833 13.4934 9.781 13.636C9.84491 13.7614 9.9469 13.8634 10.0723 13.9273C10.2149 14 10.4016 14 10.775 14H13.3083C13.6817 14 13.8684 14 14.011 13.9273C14.1364 13.8634 14.2384 13.7614 14.3023 13.636C14.375 13.4934 14.375 13.3067 14.375 12.9333V10.4C14.375 10.0266 14.375 9.83995 14.3023 9.69734C14.2384 9.5719 14.1364 9.46991 14.011 9.406C13.8684 9.33333 13.6817 9.33333 13.3083 9.33333Z",stroke:"currentColor",strokeWidth:"1.336",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M5.975 9.33333H3.44167C3.0683 9.33333 2.88161 9.33333 2.73901 9.406C2.61356 9.46991 2.51158 9.5719 2.44766 9.69734C2.375 9.83995 2.375 10.0266 2.375 10.4V12.9333C2.375 13.3067 2.375 13.4934 2.44766 13.636C2.51158 13.7614 2.61356 13.8634 2.73901 13.9273C2.88161 14 3.0683 14 3.44167 14H5.975C6.34837 14 6.53505 14 6.67766 13.9273C6.8031 13.8634 6.90509 13.7614 6.969 13.636C7.04167 13.4934 7.04167 13.3067 7.04167 12.9333V10.4C7.04167 10.0266 7.04167 9.83995 6.969 9.69734C6.90509 9.5719 6.8031 9.46991 6.67766 9.406C6.53505 9.33333 6.34837 9.33333 5.975 9.33333Z",stroke:"currentColor",strokeWidth:"1.336",strokeLinecap:"round",strokeLinejoin:"round"})),bed:React.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14.7913 11.3334V9.33341M14.7913 9.33341H1.45801M14.7913 9.33341H8.12467V6.00008H12.7913C13.3218 6.00008 13.8305 6.21079 14.2056 6.58587C14.5806 6.96094 14.7913 7.46965 14.7913 8.00008V9.33341ZM1.45801 5.33341V11.3334M3.45801 6.00008C3.45801 6.3537 3.59848 6.69284 3.84853 6.94289C4.09858 7.19294 4.43772 7.33341 4.79134 7.33341C5.14496 7.33341 5.4841 7.19294 5.73415 6.94289C5.9842 6.69284 6.12467 6.3537 6.12467 6.00008C6.12467 5.64646 5.9842 5.30732 5.73415 5.05727C5.4841 4.80722 5.14496 4.66675 4.79134 4.66675C4.43772 4.66675 4.09858 4.80722 3.84853 5.05727C3.59848 5.30732 3.45801 5.64646 3.45801 6.00008Z",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}))};const b=function(e){var t=e.icon;return y[t]},w=function(e){var t=e.value,n=e.onChange,r=e.min,a=void 0===r?-1/0:r,o=e.max,i=void 0===o?1/0:o;return React.createElement("div",{className:"wte-qty-number wte-booking-pc-counter","data-info":'{"packageID":6052,"catID":15}'},React.createElement(v,{className:"prev wte-down",disabled:t<=0,onClick:function(){n(t<=a?0:t-1)},label:h}),React.createElement("input",{type:"text",value:t,readOnly:!0}),React.createElement(v,{className:"next wte-up",disabled:t>=i||a>i,onClick:function(){n(t<a?a:t+1)},label:g}))};function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const k=function(e){var t,n,a=e.options,o=e.checked,i=e.onChange,l=e.isShowMore,s=void 0!==l&&l,u=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],f=u[1],d=!p&&s?a.slice(0,3):a;return React.createElement("div",{className:"wte-button-group",role:"group","aria-label":"Toggle Button Group"},d.map((function(e){var t=e.label,n=e.value;return React.createElement("div",{key:n},React.createElement("input",{type:"radio",name,id:"btn_radio_".concat(n),style:{position:"absolute",clip:"rect(0, 0, 0, 0)",pointerEvents:"none"},autoComplete:"off",checked:n===o,onChange:function(){return i(n)}}),React.createElement("label",{className:"wte-check-button".concat(n===o?" checked":""),htmlFor:"btn_radio_".concat(n),dangerouslySetInnerHTML:{__html:t}}))})),s&&a.length>3&&React.createElement("button",{type:"butotn",className:"wte-check-button",onClick:function(){return f(!p)},style:{paddingLeft:"20px",paddingRight:"20px"}},p?(0,c.__)("Show Less","wp-travel-engine"):(0,c.__)("Show More","wp-travel-engine"),React.createElement(b,{icon:p?"angle-up":"angle-down"})))};var j=n(4915),R=["content","children"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(null,arguments)}const x=function(e){var t=e.content,n=e.children,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,R);return React.createElement(j.Ay,T({interactive:!0,content:t},r),n)};var O=wteL10n.priceFormat;const S=function(e){var t=e.prefix,n=e.suffix,r=e.value,a=e.noHTML,o=void 0!==a&&a,i=e.convert,c=void 0===i||i;return React.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(t||"").concat(O(r).format(o,c)).concat(n||"")}})},_=function(e){var t=e.value,n=e.options,r=e.onChange;return React.createElement("div",{className:"wpte-select-options"},React.createElement("select",{className:"option-toggle",value:t,onChange:function(e){return r(e.target.value)}},null==n?void 0:n.map((function(e,t){var n=e.value,r=e.label;return React.createElement("option",{key:n,value:n},r)}))))};var C=function(e){var t=Ue(),n=t.state,r=n.summary,a=r.travelers,o=r.selectedTripPackageID,i=n.currentTab,l=(t.availableSeats,e.direction),s=void 0===l?"horizontal":l,u=e.required,p=void 0!==u&&u,f=e.label,d=e.helpText,m=e.hasSale,v=e.actualPrice,h=e.price,g=e.ageGroup,y=e.perTextLabel,E=e.perTextDescription,k=e.counter,j=e.afterLabel,R=void 0===j?"":j,T=e.html;return""===h?null:(a.reduce((function(e,t){return e+t.qty}),0),React.createElement("div",{className:"wte-trip-guest-wrapper ".concat(s)},React.createElement("div",{className:"check-in-wrapper"},React.createElement("label",{dangerouslySetInnerHTML:{__html:"".concat(f).concat(g&&" (".concat(g,") ")||"").concat(p?'<span class="wte-required" style="color:red">&nbsp;*</span>':"")}}),d&&React.createElement(x,{content:React.createElement("div",{dangerouslySetInnerHTML:{__html:d}})},React.createElement("span",{className:"wte-meta-help"},React.createElement(b,{icon:"help"}))),R,1===i&&React.createElement("span",{className:"wte-minimum-pax"},sprintf((0,c.__)("Minimum: %s","wp-travel-engine"),(null==k?void 0:k.min)||0))),React.createElement("div",{className:"select-wrapper"},React.createElement("div",{className:"amount-per-person"},m&&v>=h&&React.createElement("span",{className:"regular-price"},React.createElement("del",null,React.createElement(S,{value:v}))),React.createElement("span",{className:"offer-price"},React.createElement(S,{value:h})),React.createElement("span",{className:"per-text-wrapper"},y&&React.createElement("span",{className:"per-text"},y),E&&React.createElement(x,{content:React.createElement("div",{dangerouslySetInnerHTML:{__html:E}})},React.createElement("span",{className:"wte-meta-help"},React.createElement(b,{icon:"help"}))))),k&&React.createElement(w,{id:o,value:null==k?void 0:k.value,min:null==k?void 0:k.min,max:null==k?void 0:k.max,onChange:null==k?void 0:k.onChange}),T)))},L=function(e){var t=e.children,n=e.heading;return React.createElement(React.Fragment,null,n&&React.createElement("div",{className:"wte-option-heading"},n," "),React.createElement("div",{className:"wte-trip-options"},"function"==typeof t?t():t))},P=wteL10n.locale;const N=function(e){var t=e.options,n=Ue().state.tripID,a=(0,o.A)((function(e){return e("wptravelengine").getTripDates(n)}),[n]),c=(0,r.useRef)(null),l=(0,r.useRef)(null),s=(0,r.useCallback)((function(){var e,n,r;l.current&&l.current.destroy(),l.current=flatpickr(c.current,(0,i.W5)("wptravelengine.flatpickr.options",t,a)),flatpickr.localize(null!==(e=null===(n=flatpickr)||void 0===n||null===(n=n.l10ns)||void 0===n?void 0:n[null!==(r=P.split("_")[0])&&void 0!==r?r:"en"])&&void 0!==e?e:"en")}),[t]);return(0,r.useEffect)((function(){return s(),function(){l.current&&l.current.destroy()}}),[s]),React.createElement("div",{ref:c})};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const B=function(e){var t,n,a=e.onDateChange,i=e.onTimeChange,c=Ue(),l=c.state,s=c.setState,p=l.tripID,d=l.availableTimes,v=l.summary,h=l.summary,g=h.selectedTripDate,y=h.selectedTimeSlot,b=(0,o.A)((function(e){return e("wptravelengine").getTripDates(p)}),[p]),w=(0,r.useMemo)((function(){return b.reduce((function(e,t){var n=t.dates,r=void 0===n?{}:n;return Object.entries(r).forEach((function(t){var n,r,a,o,i,c=(i=2,function(e){if(Array.isArray(e))return e}(o=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(o,i)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1],u=null!==(n=null===(r=e[l])||void 0===r?void 0:r.seats)&&void 0!==n?n:0,p=null!==(a=null==s?void 0:s.seats)&&void 0!==a?a:0;e[l]=M(M({},s),{},{seats:[u,p].includes("")?"":u+p})})),e}),{})}),[b]);(0,r.useEffect)((function(){f().isEmpty(w)||s({isLoading:!1})}),[w]);var E,j,R,T=(E=w,-1!==(R=(j=Object.keys(E).sort()).findIndex((function(e){return 0!==E[e].seats})))?j[R]:j[0]);(0,r.useEffect)((function(){setTimeout((function(){!g&&a(T)}),100)}),[T]);var x=null!==(t=null==b?void 0:b.filter((function(e){return!!e.dates[g]})))&&void 0!==t?t:[];return React.createElement("div",{className:"wte-process-tab-content-wrapper"},React.createElement("div",{id:"wte-booking-datetime-content"},React.createElement("div",{className:"wte-process-tab-content"},React.createElement("div",{className:"wte-booking-date-wrap"},React.createElement(N,{options:{inline:!0,defaultDate:null!==(n=v.selectedTripDate)&&void 0!==n?n:T,minDate:T,dateFormat:"Y-m-d",onChange:function(e,t){return a(t)},disable:[function(e){var t,n,r=null!==(t=null===(n=w[m()(e).format("YYYY-MM-DD")])||void 0===n?void 0:n.seats)&&void 0!==t?t:-1;return(0,u.Et)(r)&&r<=0||!1}]}}),d.length>0&&React.createElement("div",null,React.createElement("div",{className:"wte-booking-times"},x.map((function(e,t){var n=e.package,a=n.id,o=n.name,c=d.filter((function(e){var t=e.package_id;return a===t}));return c.length<=0?null:React.createElement(r.Fragment,{key:t},x.length>1&&o&&React.createElement("span",{className:"wte-package-name",dangerouslySetInnerHTML:{__html:o}}),React.createElement(k,{options:c.map((function(e){var t=e.from,n=e.to,r=e.key;return{label:"".concat(m()(t).format("h:mm A")," - ").concat(m()(n).format("h:mm A")),value:r}})),checked:y,onChange:i,isShowMore:!0}))}))))))))};function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}var F=["service"];function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return(t=function(e){var t=function(e){if("object"!=H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(null,arguments)}function Y(e,t){if(e){if("string"==typeof e)return Z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t,n,a,o,i=e.item,c=e.onChange,l=(a=(0,r.useState)(i.options[0].key),o=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(a,o)||Y(a,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],u=l[1],f=Ue().state.summary.extraServices,d=i.title,m=i.options,v=i.required,h=i.multiple,g={required:v},y=(0,p.keyBy)(f,"id");if(h&&m.length>1)return m.map((function(e,t){var n,r,a=e.price,o=e.label,i=e.key;return React.createElement(C,{key:i,label:o,price:a,direction:"vertical",perTextLabel:"/ ".concat(e.serviceUnit.label),helpText:e.description,counter:{min:0,max:1/0,value:null!==(n=null===(r=y[i])||void 0===r?void 0:r.qty)&&void 0!==n?n:0,onChange:function(t){return c(e,t)}}})}));var b=!h&&m.length>1?React.createElement(_,{options:m.map((function(e,t){var n=e.label;return{value:e.key,label:n}})),value:s,onChange:function(e){u(e),c({key:e,price:0},0)}}):null,w=m.find((function(e){return e.key===s}));return React.createElement(C,V({},g,{perTextLabel:"/ ".concat(m.find((function(e){return e.key===s})).serviceUnit.label),price:w.price,afterLabel:b,label:d,helpText:w.description,counter:{min:0,max:1/0,value:null!==(t=null===(n=y[w.key])||void 0===n?void 0:n.qty)&&void 0!==t?t:0,onChange:function(e){return c(w,e)}}}))};const $=function(){var e=Ue(),t=e.state,n=e.setState,a=t.tripID,i=t.summary.extraServices,l=(0,o.A)((function(e){return e("wptravelengine").getTripServices(a)}),[a]);(0,r.useEffect)((function(){l&&n({isLoading:!1})}),[l,t.currentTab]),(0,r.useEffect)((function(){n({processToNext:i.filter((function(e){return e.required})).every((function(e){return e.qty>0}))})}),[]);var s=function(e){return function(r,a){var o=r.key,c=r.price,l=r.label,s=e.required,u=e.options,p=e.multiple,f=parseFloat(c)*a,d=i;l||(d=d.filter((function(t){var n=t.id;return!e.options.some((function(e){return e.key===n}))}))),d.forEach((function(e,t){var n=e.id;u.find((function(e){return e.key===n}))&&s&&(d[t].required=n===o,p&&(d[t].required=n===o?u.filter((function(e){return e.key!==n})).every((function(e){var t=e.key;return 0===d.find((function(e){return e.id===t})).qty})):d[t].qty>0))}));var m,v=d.findIndex((function(e){return e.id===o}));if(-1!==v)d[v]=W(W({},d[v]),{},{qty:a,total:f});else{var h=u.find((function(e){return e.key===o})),g=h.price,y=h.serviceUnit,b=h.label;d=[].concat(function(e){if(Array.isArray(e))return Z(e)}(m=d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||Y(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:o,label:b,unitPrice:g,qty:a,total:f,perTextLabel:" / ".concat(y.label),required:s}])}n({processToNext:d.filter((function(e){return e.required})).every((function(e){return e.qty>0})),summary:W(W({},t.summary),{},{extraServices:d})})}};return React.createElement("div",{className:"wte-process-tab-content-wrapper"},React.createElement("h5",{className:"wte-process-tab-title"},(0,c.__)("Select Extra Services: ","wp-travel-engine")),React.createElement(L,null,(function(){return l.map((function(e){return(t=U,function(e){var n=e.service,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,F),a=n.multiple,o=n.options,i=n.id,c=n.title,l=n.required;return a&&o.length>1?React.createElement("div",{className:"wte-trip-options",key:i},React.createElement("h5",{className:"wte-process-tab-title"},React.createElement("span",{dangerouslySetInnerHTML:{__html:c}}),l&&React.createElement("span",{className:"wte-required",style:{color:"red"}}," *")),React.createElement("div",{className:"wte-es-with-multiple-options wte-owl-carousel"},React.createElement(t,V({item:n},r)))):React.createElement(t,V({item:n},r,{key:i}))})({service:e,onChange:s(e)});var t}))})))},J=function(e){var t=e.content,n=e.hideIcon;return React.createElement("div",{className:"wptravelengine-alert"},!n&&React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M5.14286 14C4.41735 12.8082 4 11.4118 4 9.91886C4 5.54539 7.58172 2 12 2C16.4183 2 20 5.54539 20 9.91886C20 11.4118 19.5827 12.8082 18.8571 14",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round"}),React.createElement("path",{d:"M14 10C13.3875 10.6432 12.7111 11 12 11C11.2889 11 10.6125 10.6432 10 10",stroke:"currentColor",strokeWidth:"1.375",strokeLinecap:"round"}),React.createElement("path",{d:"M7.38287 17.0982C7.291 16.8216 7.24507 16.6833 7.25042 16.5713C7.26174 16.3343 7.41114 16.1262 7.63157 16.0405C7.73579 16 7.88105 16 8.17157 16H15.8284C16.119 16 16.2642 16 16.3684 16.0405C16.5889 16.1262 16.7383 16.3343 16.7496 16.5713C16.7549 16.6833 16.709 16.8216 16.6171 17.0982C16.4473 17.6094 16.3624 17.8651 16.2315 18.072C15.9572 18.5056 15.5272 18.8167 15.0306 18.9408C14.7935 19 14.525 19 13.9881 19H10.0119C9.47495 19 9.2065 19 8.96944 18.9408C8.47283 18.8167 8.04281 18.5056 7.7685 18.072C7.63755 17.8651 7.55266 17.6094 7.38287 17.0982Z",stroke:"currentColor",strokeWidth:"1.67"}),React.createElement("path",{d:"M15 19L14.8707 19.6466C14.7293 20.3537 14.6586 20.7072 14.5001 20.9866C14.2552 21.4185 13.8582 21.7439 13.3866 21.8994C13.0816 22 12.7211 22 12 22C11.2789 22 10.9184 22 10.6134 21.8994C10.1418 21.7439 9.74484 21.4185 9.49987 20.9866C9.34144 20.7072 9.27073 20.3537 9.12932 19.6466L9 19",stroke:"currentColor",strokeWidth:"1.67"}),React.createElement("path",{d:"M12 15.5V11",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})),React.createElement("span",{dangerouslySetInnerHTML:{__html:t}}))};var K=function(e){var t=e.options,n=e.onChange,r=e.selected;return React.createElement(k,{options:t,onChange:n,checked:r})},X=function(e){var t=e.discountList,n=e.perTextLabel;return React.createElement(j.Ay,{interactive:!0,theme:"light",placement:"bottom",trigger:"click",className:"wpte-select-options-wrapper wpte-group-discount-options",content:React.createElement("ul",{className:"options-list"},React.createElement("li",{className:"list-heading"},React.createElement("span",{className:"no-travelers"},(0,c.__)("Number Of Travellers","wp-travel-engine")),React.createElement("span",{className:"price-per-person"},(0,c.__)("Price","wp-travel-engine")," ",n)),null==t?void 0:t.map((function(e,t){var n=e.from,r=e.to,a=e.price;return React.createElement("li",{key:t},React.createElement("span",{className:"traveler-title"},"".concat(n).concat(r?" - ".concat(r):"+")),React.createElement("span",{className:"traveler-price"},React.createElement(S,{value:a})))})))},React.createElement("div",{className:"wpte-select-options wpte-group-discount-options wte-popper active"},React.createElement("button",{type:"buttton",className:"option-toggle"},(0,c.__)("Group Discount","wp-travel-engine"))))},Q=function(e){var t=e.items,n=e.pricing,r=e.onChange,a=Ue(),o=a.state.summary.travelers,i=a.availableSeats,c=(0,p.keyBy)(o,"id");return t.map((function(e){var t,a,l,s=e.id,u=e.price,f=e.sale_price,d=e.has_sale,m=e.min_pax,v=e.max_pax,h=e.age_group,g=e.group_pricing,y=e.has_group_pricing,b=e.pricing_type,w=e.label;if(""!==i&&m>i)return null;var E,k,j=d?f:u,R=n.find((function(e){return e.id===s}))||{},T=R.price,x=void 0===T?j:T,O=R.group_pricing,S=void 0===O?g:O,_=(0,p.isNumber)(i)?i-o.filter((function(e){return e.id!==s})).reduce((function(e,t){return e+t.qty}),0):1/0,L=Math.max(null!==(t=null==c||null===(a=c[s])||void 0===a?void 0:a.qty)&&void 0!==t?t:m,m),P="/ ".concat(b.label),N=null==b?void 0:b.description;return j=y?null!==(E=null==S||null===(k=S.find((function(e){var t=e.from,n=e.to;return L>=t&&(!n||L<=n)})))||void 0===k?void 0:k.price)&&void 0!==E?E:x:""!==x?x:j,React.createElement(C,{key:s,label:w,price:j,ageGroup:h,hasSale:d,actualPrice:u,perTextLabel:P,perTextDescription:N,counter:{min:m,max:(0,p.isNumber)(_)||(0,p.isNumber)(v)?parseInt(v)<_?v:_:1/0,value:null==c||null===(l=c[s])||void 0===l?void 0:l.qty,onChange:function(e){return r(s,e)}},afterLabel:y&&React.createElement(X,{discountList:S,perTextLabel:P})})}))},ee=function(){return React.createElement(React.Fragment,null,React.createElement("span",{className:"text-left"},(0,c.__)("Travellers","wp-travel-engine")),React.createElement("span",{className:"text-right"},(0,c.__)("Quantity","wp-travel-engine")))};const te=function(e){var t,n=e.onChange,a=e.onTravelerChange,l=e.showModalWarning,s=void 0!==l&&l,u=e.modalWarningMessage,p=void 0===u?"":u,f=Ue(),d=f.state,m=d.tripID,v=d.availableTripPackages,h=d.summary,g=d.currentTab,y=f.setState,b=f.availableSeats,w=h.selectedTripPackageID,E=h.travelers,k=h.selectedTripDate;(0,r.useEffect)((function(){if((null==E?void 0:E.length)>0){var e=E.reduce((function(e,t){return e+t.qty}),0);y({isLoading:!1,processToNext:e>=Math.max(T.min_pax,1)})}}),[E,g]);var j=(0,o.A)((function(e){return e("wptravelengine").getTripDates(m)}),[m]),R=(0,o.A)((function(e){return e("wptravelengine").getTripPackages(m)}),[m]);if(0===R.length)return null;var T=R.find((function(e){return e.id===w})),x=(null===(t=j.find((function(e){return e.package.id===w})))||void 0===t||null===(t=t.dates[k])||void 0===t?void 0:t.pricing)||[],O=(null==T?void 0:T.traveler_categories)||[],S=b>0||""===b,_="",C=""===(null==T?void 0:T.min_pax)?-1:(null==T?void 0:T.min_pax)||1;return s&&C>1&&(_=(p||(0,c.__)("This trip requires a minimum of {min_pax} participants per booking.","wp-travel-engine")).replace("{min_pax}",C)),React.createElement("div",{className:"wte-process-tab-content-wrapper"},React.createElement("div",null,React.createElement("div",{className:"wte-process-tab-content"},(0,i.W5)("wptravelengine.tripBookingModal.beforePackages",!1,{availableTripPackages:v,tripPackages:R,selectedTripPackageID:w}),v.length>1&&React.createElement("div",{className:"wte-button-group wte-package-type"},React.createElement(K,{options:v.map((function(e){return{label:R.find((function(t){return t.id===e})).name,value:e}})),selected:w,onChange:n})),(null==T?void 0:T.description)&&React.createElement("div",{className:"wte-selected-package-description",dangerouslySetInnerHTML:{__html:T.description}}),React.createElement("hr",null),S?React.createElement(React.Fragment,null,React.createElement(L,{heading:React.createElement(ee,null)},_&&React.createElement(J,{hideIcon:!0,content:_}),React.createElement(Q,{items:O,pricing:x,onChange:a}))):React.createElement("div",{className:"failed-msg"},(0,c.__)("Seats are not available for selected package","wp-travel-engine")))))};var ne=n(9748),re=n(2733),ae=n(6271);function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(){ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:x(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",d="suspendedYield",m="executing",v="completed",h={};function g(){}function y(){}function b(){}var w={};s(w,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(L([])));k&&k!==n&&r.call(k,i)&&(w=k);var j=b.prototype=g.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(a,o,i,c){var l=p(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==oe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function x(t,n,r){var a=f;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===h)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=p(t,n,r);if("normal"===s.type){if(a=r.done?v:d,s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=v,r.method="throw",r.arg=s.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(oe(t)+" is not iterable")}return y.prototype=b,a(j,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},R(T.prototype),s(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new T(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(j),s(j,l,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=function(e){var t=function(e){if("object"!=oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue={trips:{},isLoading:!0},pe={setTrip:function(e){return{type:"SET_TRIP",data:e}},setTripDates:function(e,t){return{type:"SET_TRIP_DATES",id:t,data:e}},setTripServices:function(e,t){return{type:"SET_TRIP_SERVICES",id:t,data:e}},setTripPackages:function(e,t){return{type:"SET_TRIP_PACKAGES",id:t,data:e}},fetchFromAPI:function(e){return{type:"FETCH_FROM_API",path:e}},fetchTripData:function(e){return{type:"FETCH_TRIP_DATA",id:e,path:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}}},fe={FETCH_FROM_API:function(e){return(0,ne.A)({path:e.path})},FETCH_TRIP_DATA:function(e){var t=e.id,n=e.path,r=window,a=r.wpApiSettings.root,o=r.wteL10n.locale;return fetch("".concat(a,"wptravelengine/v2/trips/").concat(t,"/").concat(n,"?lang=").concat(o),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},de={getTrip:ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.fetchTripData(t,n);case 2:return r=e.sent,e.abrupt("return",pe.setTrip(r));case 4:case"end":return e.stop()}}),e)})),getTripDates:ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.fetchTripData(t,"dates");case 2:return n=e.sent,e.abrupt("return",pe.setTripDates(n,t));case 4:case"end":return e.stop()}}),e)})),getTripServices:ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.fetchTripData(t,"services");case 2:return n=e.sent,e.abrupt("return",pe.setTripServices(n,t));case 4:case"end":return e.stop()}}),e)})),getTripPackages:ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.fetchTripData(t,"packages");case 2:return n=e.sent,e.abrupt("return",pe.setTripPackages(n,t));case 4:case"end":return e.stop()}}),e)}))},me=(0,re.A)("wptravelengine",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRIP":return le(le({},e),{},{isLoading:!1,trips:le(le({},e.trips),{},se({},t.data.id,le(le({},e.trips[t.data.id]),{},{trip:t.data})))});case"SET_TRIP_DATES":return le(le({},e),{},{isLoading:!1,trips:le(le({},e.trips),{},se({},t.id,le(le({},e.trips[t.id]),{},{dates:t.data})))});case"SET_TRIP_SERVICES":return le(le({},e),{},{isLoading:!1,trips:le(le({},e.trips),{},se({},t.id,le(le({},e.trips[t.id]),{},{services:t.data})))});case"SET_TRIP_PACKAGES":return le(le({},e),{},{isLoading:!1,trips:le(le({},e.trips),{},se({},t.id,le(le({},e.trips[t.id]),{},{packages:t.data})))});default:return e}},actions:pe,selectors:{getState:function(e){return e},getTrip:function(e,t){var n,r;return null!==(n=null===(r=e.trips)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.trip)&&void 0!==n?n:{}},getTripDates:function(e,t){var n,r;return null!==(n=null===(r=e.trips)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.dates)&&void 0!==n?n:[]},getTripServices:function(e,t){var n,r;return null!==(n=null===(r=e.trips)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.services)&&void 0!==n?n:[]},getTripPackages:function(e,t){var n,r;return null!==(n=null===(r=e.trips)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.packages)&&void 0!==n?n:[]},isLoading:function(e){return e.isLoading}},controls:fe,resolvers:de});function ve(e){return(0,o.A)((function(t){return t("wptravelengine").getTrip(e)}),[e])}(0,ae.kz)(me);var he=function(e){var t=e.id,n=e.title,a=e.items,o=void 0===a?[]:a;return o.length<1||o.every((function(e){return 0===e.qty}))?null:React.createElement("div",{className:"wte-booking-details ".concat(t)},React.createElement("h6",{className:"wte-booking-details-title"},n),React.createElement("ul",null,null==o?void 0:o.map((function(e,t){var n=e.label,a=void 0===n?"":n,o=e.qty,i=void 0===o?null:o,c=e.total,l=void 0===c?null:c,s=e.unitPrice,u=void 0===s?null:s,p=(e.perTextLabel,e.childrens),f=void 0===p?[]:p;return i<1?null:React.createElement(r.Fragment,{key:t},React.createElement("li",{className:"wte-booking-details-item"},React.createElement("label",null,React.createElement("span",{className:"qty",style:{fontWeight:f.length>0&&"500",color:f.length>0&&"#000"},dangerouslySetInnerHTML:{__html:"".concat(a,": ").concat(i," x ")}}),React.createElement(S,{noHTML:!0,value:u})),React.createElement("div",{className:"amount-figure"},React.createElement("strong",null,React.createElement(S,{value:l})))),null==f?void 0:f.map((function(e,t){var n=e.label,r=void 0===n?"":n,a=e.qty,o=e.total,i=e.unitPrice;return a<1?null:React.createElement("li",{key:t,className:"wte-booking-details-item-children"},React.createElement("label",null,React.createElement("span",{className:"qty"},"↳ ",r,": ",a," x ",React.createElement(S,{noHTML:!0,value:i}))),React.createElement("div",{className:"amount-figure"},React.createElement("strong",null,React.createElement(S,{value:o}))))})))}))))};const ge=function(){var e,t,n,r=Ue(),a=r.state,l=a.tripID,s=a.summary,u=a.availableTimes,p=r.getTotal,f=s.selectedTripDate,d=s.travelers,m=s.extraServices,v=s.selectedTripPackageID,h=s.selectedTimeSlot,g=ve(l),y=(0,o.A)((function(e){return e("wptravelengine").getTripPackages(l)}),[l]).find((function(e){return e.id===v})),b=new wteL10n.dateFormat(f),w=(0,i.W5)("wptravelengine.tripBookingModal.bookingDetails",[{key:"travellers",title:(0,c.__)("Travellers","wp-travel-engine"),items:d},{key:"extraServices",title:(null===(e=wteL10n)||void 0===e||null===(e=e.l10n)||void 0===e?void 0:e.extraServicesTitle)||(0,c.__)("Extra Services","wp-travel-engine"),items:m}],s);return React.createElement("aside",{className:"wte-popup-sidebar"},React.createElement("div",{className:"wte-booking-summary"},React.createElement("div",{id:"wte-booking-summary"},React.createElement("h5",{className:"wte-booking-block-title"},(0,c.__)("Booking Summary","wp-travel-engine")),React.createElement("h2",{className:"wte-booking-trip-title",dangerouslySetInnerHTML:{__html:(null==g||null===(t=g.title)||void 0===t?void 0:t.rendered)||""}}),f&&React.createElement("div",{className:"wte-booking-dates"},React.createElement("p",{className:"wte-booking-starting-date"},(0,c.__)("Starting Date:","wp-travel-engine"),React.createElement("strong",null,b.format(),h&&" at ".concat(moment(null===(n=u.find((function(e){return e.key===h})))||void 0===n?void 0:n.from).format("h:mm A"))))),React.createElement("div",{className:"wte-booking-summary-info"},y&&React.createElement("h5",{className:"wte-booking-summary-info-title",dangerouslySetInnerHTML:{__html:"".concat((0,c.__)("Package:","wp-travel-engine")," ").concat(y.name)}}),React.createElement("div",{className:"wte-booking-trip-info"},w.map((function(e){var t=e.title,n=e.items,r=e.key;return React.createElement(he,{key:r,id:r,title:t,items:n})}))),React.createElement("div",{className:"total-amount"},React.createElement("p",{className:"price"},React.createElement("span",{className:"total-text"},(0,c.__)("Total :","wp-travel-engine")),React.createElement(S,{value:(0,i.W5)("wptravelengine.tripBookingModal.totalAmount",p(),s)})))))))};function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function be(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return(t=function(e){var t=function(e){if("object"!=ye(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ye(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Re=function(e){var t,n=e.tabs,a=void 0===n?[]:n,o=e.onSubmit,i=e.processToNext,l=(0,r.useRef)(null),s=Ue(),u=s.isLoading,p=s.state,f=p.availableTimes,d=p.currentTab,m=p.btnLoading,v=p.completedTabs,h=s.state,g=s.setState,y=a.filter((function(e){return null==e?void 0:e.enabled}));return(0,r.useEffect)((function(){f.length>0&&l.current.scrollTo({top:l.current.scrollHeight,left:0,behavior:"smooth"})}),[f]),React.createElement(React.Fragment,null,React.createElement("nav",{className:"wte-process-nav"},React.createElement("div",{className:"wte-process-container"},React.createElement("ul",{className:"wte-process-nav-list"},y.map((function(e,t){var n=e.id,r=e.title,a=e.icon,o=d===t?"active":"",c=null!=v&&v.includes(t)?"finish":"",l=null==v?void 0:v.includes(t);return React.createElement("li",{key:t,id:n,className:"wte-process-nav-item ".concat(o," ").concat(c),style:{width:"calc(".concat(100/y.length,"% - 4px)")}},React.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),i&&l&&g(ke(ke({},h),{},{currentTab:t,completedTabs:[].concat(be(v),[!v.includes(t)&&d])}))}},a&&React.createElement("span",{className:"wte-icon"},a),r))}))))),React.createElement("div",{className:"wte-process-tabs"},React.createElement("div",{className:"wte-process-container"},React.createElement("div",{ref:l,className:"wte-process-tab-item".concat(u?" loading":""),style:{display:"block"}},!u&&(null===(t=y[d])||void 0===t?void 0:t.component)),React.createElement("div",{className:"wte-process-tab-controller"},0!==d&&React.createElement("button",{type:"button",className:"wte-process-btn wte-process-btn-prev",onClick:function(){d>0&&g(ke(ke({},h),{},{currentTab:d-1,isLoading:!0}))}},React.createElement(b,{icon:"angle-left"}),(0,c.__)("Back","wp-travel-engine")),React.createElement("button",{type:"button",className:"wte-process-btn wte-process-btn-next ".concat(m?"btn-loading":""),onClick:function(e){i&&d<y.length-1&&g(ke(ke({},h),{},{currentTab:d+1,isLoading:!0,completedTabs:[].concat(be(v),[!v.includes(d)&&d])})),i&&d===y.length-1&&o(e)},disabled:!i},y.length-1===d?(0,c.__)("Proceed To Checkout","wp-travel-engine"):(0,c.__)("Continue","wp-travel-engine"))))))};function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}var xe=["state","setState","updateSummary","handleDateChange","nonce","wpXHR","cartVersion","parentRef"];function Oe(){Oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:x(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",d="suspendedYield",m="executing",v="completed",h={};function g(){}function y(){}function b(){}var w={};s(w,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(L([])));k&&k!==n&&r.call(k,i)&&(w=k);var j=b.prototype=g.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(a,o,i,c){var l=p(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Te(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function x(t,n,r){var a=f;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===h)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var s=p(t,n,r);if("normal"===s.type){if(a=r.done?v:d,s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=v,r.method="throw",r.arg=s.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Te(t)+" is not iterable")}return y.prototype=b,a(j,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},R(T.prototype),s(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new T(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(j),s(j,l,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Se(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function _e(e){return function(e){if(Array.isArray(e))return Ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||De(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(null,arguments)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return(t=function(e){var t=function(e){if("object"!=Te(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Me={isOpen:!1,availableTripPackages:[],availableTimes:[],btnLoading:!1,processToNext:!1,isLoading:!0,currentTab:0,completedTabs:[],subtotalReservations:["travelers","extraServices"],summary:{selectedTripDate:null,selectedTimeSlot:null,selectedTripPackageID:null,travelers:[],extraServices:[]}},Ae=function(e,t){var n=e.group_pricing,r=e.has_group_pricing,a=void 0!==r&&r,o=e.has_sale,i=void 0!==o&&o,c=e.sale_price,l=e.price,s=i?c:l;return a&&function(e,t){var n;return null===(n=e.find((function(e){var n=e.from,r=e.to;return r?t>=n&&t<=r:t>=n})))||void 0===n?void 0:n.price}(n,t)||s},qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return null==e?void 0:e.map((function(e){var o,i,c,l,s=e.id,u=(e.min_pax,e.pricing_type),p=e.label,f=null!=r?r:0,d=(null==t?void 0:t.find((function(e){return e.id===s})))||{},m=(null==n||null===(o=n.travelers)||void 0===o?void 0:o.find((function(e){return e.id===s})))||{},v=0!==f&&"per-group"===u.value,h=null!==(i=Ae(d,f))&&void 0!==i?i:Ae(e,f),g=s!==a?null!==(c=null==m?void 0:m.unitPrice)&&void 0!==c?c:h:v?h/f:h,y=s!==a&&null!==(l=null==m?void 0:m.qty)&&void 0!==l?l:f;return{id:s,qty:y,unitPrice:g,total:y>0?v?h:y*g:0,label:p,perTextLabel:" / ".concat(u.label)}}))},Be=function(e){var t,n,a,l,s,u,p,f=e.state,d=e.setState,m=e.updateSummary,v=e.handleDateChange,h=e.nonce,g=e.wpXHR,y=e.cartVersion,w=(e.parentRef,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,xe)),E=f.summary,k=f.isLoading,j=f.tripID,R=f.currentTab,T=f.availableTimes,x=f.isFsd,O=E.travelers,S=E.extraServices,_=E.selectedTripPackageID,C=E.selectedTripDate,L=E.selectedTimeSlot,P=ve(j),N=(0,o.A)((function(e){return e("wptravelengine").getTripServices(j)}),[j]),D=(0,o.A)((function(e){return e("wptravelengine").getTripDates(j)}),[j]),I=(0,o.A)((function(e){return e("wptravelengine").getTripPackages(j)}),[j]),M=(null===(t=I.find((function(e){return e.id===_})))||void 0===t?void 0:t.traveler_categories)||[],A=(null===(n=D.find((function(e){return e.package.id===_})))||void 0===n||null===(n=n.dates[C])||void 0===n?void 0:n.pricing)||[],q=null===(a=D.filter((function(e){return!!e.dates[C]})).find((function(e){return e.package.id===_})))||void 0===a||null===(a=a.dates)||void 0===a?void 0:a[C],H=(null==q||null===(l=q.times)||void 0===l?void 0:l.length)>0?null==q||null===(s=q.times.find((function(e){return e.key===L})))||void 0===s?void 0:s.seats:null!==(u=null==q?void 0:q.seats)&&void 0!==u?u:"",F=""===H||0!==H&&M.some((function(e){return e.min_pax<=H}));function G(){return(0,i.W5)("wptravelengine.tripBookingModal.getTotal",f.subtotalReservations.reduce((function(e,t){return e+(Array.isArray(f.summary[t])?f.summary[t].reduce((function(e,t){var n,r=parseFloat(e)+parseFloat((null==t?void 0:t.total)||0);return(null==t||null===(n=t.childrens)||void 0===n?void 0:n.length)>0&&(r+=parseFloat(t.childrens.reduce((function(e,t){return e+(parseFloat(null==t?void 0:t.total)||0)}),0))),r}),0):0)}),0),f)}function W(){var e;return e=Oe().mark((function e(t){var n,r,a,o,c,l,s,u,p,m;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({processToNext:!1,btnLoading:!0}),n=f.availableTimes.find((function(e){return e.key===L})),r=(r=O.filter((function(e){return e.qty>0}))).length>0?r:[],a={},o=0,c=r.reduce((function(e,t){var n=M.find((function(e){return e.id===t.id}));return a[t.id]=t.qty,o+=t.qty,e[t.id]={pax:t.qty,salePrice:t.unitPrice,groupDiscountPrice:0,cost:t.unitPrice,categoryInfo:{label:n.label,price:n.price,enabledSale:n.has_sale,salePrice:n.sale_price,minPax:n.min_pax,maxPax:n.max_pax,groupPricing:n.group_pricing,enabledGroupDiscount:n.has_group_pricing,pricingType:n.pricing_type.value}},e}),{}),l=(0,i.W5)("wptravelengine.tripBookingModal.cart.subtotalReservations",f.subtotalReservations.reduce((function(e,t){return e[t]=E[t].map((function(e){return e.id&&""!==e.unitPrice&&0!==e.qty?{id:e.id,quantity:e.qty}:null})).filter(Boolean),e}),{}),f),s={cartTotal:G(),nonce:h,packageID:_,pricingOptions:c,timeRange:n&&[n.from,n.to],traveler:o,tripDate:C,travelers:a,tripID:j,tripTime:n&&n.from,cartVersion:y,subtotalReservations:l},S.length>0&&(u=S.filter((function(e){return 0!==e.qty})),s=Pe(Pe({},s),{},{extraServices:u.map((function(e){return{extra_service:e.label,price:e.unitPrice,qty:e.qty}}))})),e.next=12,fetch("".concat(g,"?action=wte_add_trip_to_cart&cart_version=").concat(s.cartVersion,"&_nonce=").concat(h),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 12:if((p=e.sent).ok){e.next=15;break}throw new Error(p.statusText);case 15:return e.prev=15,e.next=18,p.json();case 18:if(!(m=e.sent).success){e.next=24;break}return window.location.href=m.data.redirect,e.abrupt("return",m);case 24:if(!m.data||!m.data[0]){e.next=26;break}throw new Error(m.data[0]);case 26:e.next=31;break;case 28:throw e.prev=28,e.t0=e.catch(15),Error(e.t0.message);case 31:case"end":return e.stop()}}),e,null,[[15,28]])})),W=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Se(o,r,a,i,c,"next",e)}function c(e){Se(o,r,a,i,c,"throw",e)}i(void 0)}))},W.apply(this,arguments)}(0,r.useEffect)((function(){0===R&&d({processToNext:!!C&&(!T.length||L)&&_&&F})}),[_,C,T,L,R,F]),(0,r.useEffect)((function(){x&&D&&I&&C&&_&&d({currentTab:(null==T?void 0:T.length)>0?L?1:0:1,completedTabs:[0]})}),[_,I,D,L,T,x]),(0,r.useEffect)((function(){if((null==D?void 0:D.length)>0&&(null==I?void 0:I.length)>0){var e=(null==N?void 0:N.filter((function(e){return e.required})).flatMap((function(e){return e.options.map((function(e){var t=e.key,n=e.price,r=e.label,a=e.serviceUnit;return{id:t,label:r,unitPrice:n,qty:0,total:0,perTextLabel:"/ ".concat(a.label),required:!0}}))})))||[],t=F?qe(M,A):[];m({travelers:t,extraServices:e})}}),[_,N,D,I,C]),(0,r.useEffect)((function(){if(C){var e=D.filter((function(e){return!!e.dates[C]})),t=e.reduce((function(e,t){var n=t.dates,r=(null==n?void 0:n[C].times)||[];return[].concat(_e(e),_e(r))}),[]);t=t.map((function(t){var n=e.find((function(e){return e.dates[C].times.find((function(e){return e.key===t.key}))})).package.id;return Pe(Pe({},t),{},{package_id:n})}));var n=function(e){return Math.min.apply(Math,_e(e.filter((function(e){return""!==e.price})).map((function(e){var t=e.min_pax;return""===t?1/0:Number(t)}))))},r=[];if(t.length<1)r=e.reduce((function(e,t){var r=t.dates,a=t.package,o=a.id,i=a.traveler_categories;return(""===r[C].seats||r[C].seats>=n(i))&&e.push(o),e}),[]);else{var a=e.map((function(e){var t;return null===(t=e.dates[C])||void 0===t?void 0:t.times.find((function(e){return e.key===L}))})).find(Boolean)||{},o=a.from,i=a.to;r=e.reduce((function(e,t){var r,a=t.dates,c=t.package,l=c.id,s=c.traveler_categories;return((null===(r=a[C])||void 0===r?void 0:r.times)||[]).some((function(e){var t=e.from,r=e.to,a=e.key,c=e.seats;return(t===o&&r===i||a===L)&&(""===c||c>=n(s))}))&&e.push(l),e}),[])}var c=_||r[0];d({summary:Pe(Pe({},E),{},{selectedTripPackageID:c,travelers:F?qe(M,A):[]}),availableTripPackages:r,availableTimes:t})}}),[C,L,D,j]);var z=(0,i.W5)("wptravelengine.tripBookingModal.stepFormTabs",[{id:"date-time",title:(0,c.__)("Date & Time","wp-travel-engine"),component:React.createElement(B,{onTimeChange:function(e){var t,n,r=(null===(t=D.find((function(t){var n;return null===(n=t.dates[C])||void 0===n?void 0:n.times.find((function(t){return t.key===e}))})))||void 0===t||null===(t=t.package)||void 0===t?void 0:t.id)||(null===(n=D[0])||void 0===n||null===(n=n.dates[C])||void 0===n||null===(n=n.times.find((function(t){return t.key===e})))||void 0===n||null===(n=n.package)||void 0===n?void 0:n.id)||null;m({selectedTimeSlot:e,selectedTripPackageID:r})},onDateChange:function(e){return v(e,D)}}),icon:React.createElement(b,{icon:"calendarCheck"}),enabled:!0},{id:"package-type",title:(0,c.__)("Package Type","wp-travel-engine"),component:React.createElement(te,Ce({onChange:function(e){var t,n,r,a=L&&"".concat(e,"_").concat(L.substring(L.indexOf("_")+1))||null,o=(null===(t=D.find((function(t){return t.package.id===e})))||void 0===t||null===(t=t.dates)||void 0===t||null===(t=t[C])||void 0===t?void 0:t.times)||[];L=(null==o||null===(n=o.find((function(e){return e.key===a})))||void 0===n?void 0:n.key)||(null===(r=o[0])||void 0===r?void 0:r.key)||null,m({selectedTripPackageID:e,selectedTimeSlot:L})},onTravelerChange:function(e,t){m({travelers:qe(M,A,E,t,e)})}},w)),icon:React.createElement(b,{icon:"packageIcon"}),enabled:!0},{id:"extra-services",title:(null===(p=wteL10n)||void 0===p||null===(p=p.l10n)||void 0===p?void 0:p.extraServicesTitle)||(0,c.__)("Extra Services","wp-travel-engine"),component:React.createElement($,null),icon:React.createElement(b,{icon:"grid"}),enabled:N.length>0}],{trip:P,state:f,setState:d,updateSummary:m});return React.createElement(Ze.Provider,{value:{state:f,setState:d,getTotal:G,updateSummary:m,tripPackages:I,availableSeats:H}},React.createElement("div",{className:"wte-process-layout ".concat(k?"is-loading":"")},React.createElement(Re,{processToNext:f.processToNext,onSubmit:function(e){return W.apply(this,arguments)},tabs:z}),React.createElement(ge,null)))};const He=function(e){var t,n,a=(t=(0,r.useState)(Pe({},Me)),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,n)||De(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1],l=function(e){return i((function(t){return Pe(Pe({},t),e)}))},u=o.isOpen;function p(e){i((function(t){return Pe(Pe({},t),{},{summary:Pe(Pe({},t.summary),e)})}))}function f(e,t){var n,r,a=(null===(n=t.find((function(t){return t.dates[e]})))||void 0===n||null===(n=n.package)||void 0===n?void 0:n.id)||(null===(r=t[0])||void 0===r||null===(r=r.package)||void 0===r?void 0:r.id)||null;p({selectedTripDate:e,selectedTimeSlot:null,selectedTripPackageID:a})}return(0,r.useEffect)((function(){document.dispatchEvent(new Event("bookingCalendarReady")),window.addEventListener("pageshow",(function(e){e.persisted&&l({isLoading:!1,processToNext:!0,btnLoading:!1})}))}),[]),(0,r.useEffect)((function(){window.wptravelengineBooking=window.wptravelengineBooking||{},window.wptravelengineBooking.store={state:o,setState:function(e){i((function(t){return Pe(Pe({},t),e)}))},setTripDate:f,setSummary:p}}),[]),React.createElement(s,{isOpen:u,setIsOpen:function(){l({isOpen:!o.isOpen})}},React.createElement("p",{style:{display:"none"}},(0,c.__)("WP Travel Engine Booking Initialized.","wp-travel-engine")),React.createElement(Be,Ce({state:o,setState:l,updateSummary:p,handleDateChange:f},e)))};var Fe=n(159);function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(null,arguments)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ge(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ge(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.wptravelengineBooking=window.wptravelengineBooking||{},window.wptravelengineBooking.app=He;var Ze=(0,r.createContext)();function Ue(){return(0,r.useContext)(Ze)}(0,Fe.A)((function(){var e,t,n,o=null!==(e=document.querySelector("#wptravelengine-trip-booking-modal"))&&void 0!==e?e:null;o||((o=document.createElement("div")).style.display="none",o.style.height=0,o.id="wptravelengine-trip-booking-modal",document.body.appendChild(o)),(0,i.W5)("wptravelengine.tripBookingModal.open",!0,{appContainer:o})&&(o._reactRoot||(o._reactRoot=(0,a.H)(o)),o._reactRoot.render(React.createElement(r.StrictMode,null,React.createElement(He,We({parentRef:o},Ve({},JSON.parse(null!==(t=o.dataset.tripBooking)&&void 0!==t?t:"{}")))))),null===(n=document.querySelectorAll("[data-trip-booking],#open-booking-modal,.wte-fsd-list-booknow-btn"))||void 0===n||n.forEach((function(e){var t,n=JSON.parse(null!==(t=e.dataset.tripBooking)&&void 0!==t?t:"{}");if(n.isOpen=!0,"button"===e.tagName.toLowerCase()&&(e.disabled=!1),e.classList.contains("wte-fsd-list-booknow-btn")&&(e.disabled=!1,e.classList.remove("btn-loading"),!n.tripID&&document.body.classList.contains("single-trip"))){var r;n.tripID=null===(r=document.body.className.match(/postid-(\d+)/))||void 0===r?void 0:r[1];var a=e.dataset.info;a&&(n.summary={selectedTripDate:moment(1e3*+a).format("YYYY-MM-DD")})}e.addEventListener("click",(function(){var e,t,r,a=window.wptravelengineBooking.store,o=a.state,i=a.setState;setTimeout((function(){i({isOpen:!0,isFsd:n.isFsd})})),i({summary:Ve(Ve({},o.summary),{},{selectedTripDate:null!==(e=null===(t=n.summary)||void 0===t?void 0:t.selectedTripDate)&&void 0!==e?e:null}),tripID:null!==(r=null==n?void 0:n.tripID)&&void 0!==r?r:null,currentTab:0,isLoading:!0})}))})))}))}}]);