(()=>{"use strict";(()=>{function e(e){const t=window.location.href.split("#");window.location=t[0]+e}function t(){const e=document.querySelector(".wpte-lrf-wrap.wpte-register"),t=document.querySelector(".wpte-lrf-wrap.wpte-login"),o=document.querySelector(".social-label.wpte-register"),l=document.querySelector(".social-label.wpte-login");e&&(e.style.display="none"),t&&(t.style.display="block"),o&&(o.style.display="none"),l&&(l.style.display="block")}function o(){const e=document.querySelector(".wpte-lrf-wrap.wpte-register"),t=document.querySelector(".wpte-lrf-wrap.wpte-login"),o=document.querySelector(".social-label.wpte-register"),l=document.querySelector(".social-label.wpte-login");e&&(e.style.display="block"),t&&(t.style.display="none"),o&&(o.style.display="block"),l&&(l.style.display="none")}document.addEventListener("DOMContentLoaded",(()=>{!function(){new MutationObserver((()=>{const e=document.querySelectorAll(".wpte-material-ui-input-control");e&&e.forEach((e=>{const t=e.querySelector('input:not([type="hidden"])')||e.querySelector("select")||e.querySelector("textarea");((e,t)=>{e.value?t.classList.add("focus"):t.classList.remove("focus")})(t,e),"date"===t.type?e.classList.add("focus"):(t.addEventListener("blur",(()=>{t.value?e.classList.add("focus"):e.classList.remove("focus")})),t.addEventListener("focus",(()=>{e.classList.add("focus")})))}))})).observe(document.body,{childList:!0,subtree:!0});const e=document.querySelectorAll(".wpte-dashboard .wpte-lrf-userprogile > a");e.length>0&&e.forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),e.parentElement.classList.toggle("active");const o=e.nextElementSibling;o&&(o.style.display="none"===o.style.display||""===o.style.display?"block":"none")}))}));const t=document.querySelectorAll(".wpte-dashboard .wpte-ud-tabs .wpte-ud-tab");t.forEach((e=>{e.addEventListener("click",(function(){const e=this.dataset.target;t.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),document.querySelector(".wpte-ud-tab-content.active").classList.remove("active"),document.querySelector(`.${e}`).classList.add("active")}))}));const o=document.querySelectorAll(".lrf-bookings-content .wpte-bookings-tabmenu .wpte-booking-menu-tab");o.forEach((e=>{e.addEventListener("click",(function(){const e=this.classList[1];o.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),document.querySelectorAll(".lrf-bookings-content .wpte-booking-tab-main .wpte-booking-tab-content").forEach((t=>{t.classList.remove("active"),t.classList.contains(`${e}-content`)&&t.classList.add("active")}))}))}))}(),function(){const e={acceptedFiles:"image/jpeg, image/gif, image/png",maxFiles:1,url:wte_account_page.ajax_url,uploadMultiple:!1,resizeWidth:1500,resizeMimeType:"image/jpeg",resizeMethod:"crop",resizeQuality:65,createImageThumbnails:!1,maxFilesize:2,dictDefaultMessage:"",clickable:!0},t=document.getElementById("profile-img");if(t){const o=new Dropzone("#profile-img .wpte-img-upload-icon",e);o.on("sending",(function(e,t,o){const l=document.getElementsByName("user_profile_image_nonce")[0].value;o.append("action","wte_user_profile_image_upload"),o.append("nonce",l)})),o.on("success",(function(e,o){if("error"!==o){const e=JSON.parse(o);t.querySelector(".img").innerHTML=`<img src="${e.url}">`,t.querySelector("input[name='user_profile_image']").value=e.file,t.querySelector("input[name='user_profile_image_url']").value=e.url;const l=t.querySelector(".dz-preview");l&&l.remove()}})),o.on("addedfile",(function(e){const l=t.querySelector(".wte-profile-img-delete");l.style.display="block",l.addEventListener("click",(function n(){t.querySelector("input[name='user_profile_image']").value="",t.querySelector("input[name='user_profile_image_url']").value="",o.removeFile(e),l.style.display="none",l.removeEventListener("click",n)}))})),document.addEventListener("click",(function(e){if(e.target.closest(".wte-profile-btns .wte-profile-img-delete")){o.removeAllFiles(),t.querySelector("input[name='user_profile_image']").value="",t.querySelector("input[name='user_profile_image_url']").value="";const e=t.querySelector(".img img");e&&e.remove(),t.querySelector(".wte-profile-img-delete").style.display="none"}else if(e.target.closest(".dz-preview .dz-error-mark")){const e=t.querySelector(".dz-preview");e&&e.remove()}}))}}(),function(){"function"==typeof window.Parsley&&document.querySelectorAll("form.wpte-lrf").forEach((e=>{window.Parsley(e)}));const l=document.getElementById("wpte-show-login-form"),n=document.getElementById("wpte-show-register-form");l&&l.addEventListener("click",(o=>{o.preventDefault(),e(o.target.hash),t()})),n&&n.addEventListener("click",(t=>{t.preventDefault(),e(t.target.hash),o()})),function(){const e=window.location.href.split("#"),l={login:t,signup:o};e[1]&&l[e[1]]&&l[e[1]]()}()}()}))})()})();